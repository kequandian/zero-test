(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5,2],{Mdr6:function(e,a,t){},T65D:function(e,a,t){},a6mf:function(e,a,t){},cSAx:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t("q1tI"),l=t("1cYI"),c=t("tONX");function i(e){var a=Object(n["useContext"])(c["a"]),t=a.OnBreadcrumb,i=a.OnBreadcrumbClear;Object(l["useDidMount"])(a=>{t(e)}),Object(l["useWillUnmount"])(e=>{i()})}},"qYX+":function(e,a,t){},rWIs:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),l=t.n(n),c=t("IIKO"),i=t("SIvP"),r=t("k16G"),m=t("uuO6"),o=(t("Mdr6"),m["Flex"].FlexItem),s=function(e){var a=e.title,t=e.children,n=l.a.Children.toArray(t),c=Object(r["a"])(n,2),i=c[0],s=c[1];return l.a.createElement("div",{className:"c-Card"},l.a.createElement(m["Flex"],{className:"content"},l.a.createElement(o,null,l.a.createElement("div",{className:"title"},a)),l.a.createElement("div",{className:"fill"}),l.a.createElement(o,{flex:1},s)),i)},u=t("XEnU"),d=(t("T2oS"),t("W9HT")),f=(t("+L6B"),t("2/Rp")),p=t("Pm34"),v=t.n(p),E=t("Rrod"),b=t.n(E),g=t("cIDR"),O=t("1cYI");function j(e,a){var t=Object(g["useModel"])({namespace:e}),n=t.formData,l=void 0===n?{}:n,c=t.loading;function i(){a&&t.fetchOne({API:a})}function r(){}return Object(O["useDidMount"])(i),Object(O["useWillUnmount"])(r),[l,c]}var I=t("0al3"),h=t("45dX"),x=(t("a6mf"),t("LvDl")),A=t.n(x);function N(e){var a=e.namespace,t=e.API,n=e.col,c=void 0===n?2:n,i=e.fields,m=void 0===i?[]:i,o=e.fieldsMap,s=void 0===o?{}:o,u=e.goBack,p=void 0!==u&&u,v=e.data,E=e.loading,g=j(a,t),O=Object(r["a"])(g,2),I=O[0],x=O[1],A=v||I;return l.a.createElement(d["a"],{spinning:E||x},p&&b.a.goBack?l.a.createElement(l.a.Fragment,null,l.a.createElement(f["a"],{onClick:b.a.goBack},"\u8fd4\u56de")):null,l.a.createElement(h["Render"],{n:"Grid",value:Array(c).fill(~~(24/c))},m.map((e,a)=>{var t=e.label;return l.a.createElement("div",{key:a,span:e.span,className:"Details-item"},t?l.a.createElement("div",{className:"Details-labelTitle"},t," :"):null,y(A,e,s))})))}function y(e,a,t){var n=a.field,c=a.options,r=Object(i["a"])(a,["field","options"]),m=Object(u["a"])(Object(u["a"])({},c),r);return t&&t[n]&&(m.map=t[n].map),l.a.createElement(I["Render"],{n:"plain",className:"Details-valueContainer",options:m,value:A.a.get(e,n),formdata:e})}var F=t("8Skl"),P=(t("T65D"),m["Flex"].FlexItem);function D(e){var a=e.title,t=e.defaultCollapse,c=void 0!==t&&t,i=e.collapseIcon,o=void 0===i||i,s=e.delayed,u=void 0!==s&&s,d=e.children,f=Object(n["useState"])(c),p=Object(r["a"])(f,2),v=p[0],E=p[1],b=Object(n["useReducer"])(e=>e+1,0),g=Object(r["a"])(b,2),O=g[0],j=g[1],I=Object(n["useRef"])(null),h=Object(n["useRef"])(void 0),x=Object(n["useMemo"])(e=>v?[{height:0,padding:0},{transform:"rotate(180deg)"}]:[{height:h.current,padding:void 0},{transform:void 0}],[v,O]),A=Object(r["a"])(x,2),N=A[0],y=A[1];function D(){v||(h.current=I.current.clientHeight),E(!v)}return Object(n["useEffect"])(e=>{v||setTimeout(e=>{h.current=void 0,j()},200)},[v]),l.a.createElement("div",{className:"ZEleA-Panel"},l.a.createElement(m["Flex"],{className:"ZEleA-Panel-title"},o?l.a.createElement(P,{className:"ZEleA-Panel-icon",onClick:D,style:y},l.a.createElement(F["a"],{type:"down"})):null,l.a.createElement(P,{flex:1},l.a.createElement("div",null,a))),l.a.createElement("div",{className:"ZEleA-Panel-content",ref:I,style:N},u?!v&&d:d))}var T=t("sB9r"),w=t("D4a5"),C=m["Flex"].FlexItem,k=function(e){var a=e.data,t=e.indexData,n=e.operation,c=e.format;return l.a.createElement(m["Flex"],null,a.image?l.a.createElement(C,null,l.a.createElement(T["a"],{width:85,height:100,border:!0,value:a.image})):l.a.createElement(l.a.Fragment,null),l.a.createElement(C,{className:"padding-left",flex:1},l.a.createElement("div",{className:"list"},a.imageTitle?l.a.createElement("div",null,l.a.createElement("span",{className:"weight"},a.imageTitle)):l.a.createElement(l.a.Fragment,null),l.a.createElement(w["Render"],{n:"plain",data:t,options:{format:c},handle:{}}))),l.a.createElement(C,null,l.a.createElement("div",null,n)))},M=t("5zUa"),S=t("Nbnn"),R=m["Flex"].FlexItem,B=function(e){var a=e.data,t=void 0===a?{}:a,c=e.map,i=void 0===c?{}:c,r=e.namespace,o=e.operation,s=e.format,u=e.handle,d=e.index,f=Object(g["useModel"])(r),p=Object(n["useMemo"])(e=>Array.isArray(o)?Object(S["a"])([],o,u,{namespace:r,model:f}).columns[0].render:e=>null,[o]),v={title:Object(M["formatAPI"])(i.title,{namespace:r,data:t}),subTitle:Object(M["formatAPI"])(i.subTitle,{namespace:r,data:t}),image:Object(M["formatAPI"])(i.image,{namespace:r,data:t}),imageTitle:Object(M["formatAPI"])(i.imageTitle,{namespace:r,data:t})};return l.a.createElement(D,{collapseIcon:!1,title:l.a.createElement(m["Flex"],null,l.a.createElement(R,null,v.title),l.a.createElement(R,{flex:1,className:"padding-left weight-400"},v.subTitle))},l.a.createElement(k,{data:v,indexData:{text:"",record:t,index:d,type:""},format:s,operation:p("",d,t)}))};t("qYX+");function L(e){var a=e.data,t=e.field,n=e.map,c=e.namespace,i=e.api,r=e.operation,m=e.format,o={items:[{component:"ItemList",config:{API:{listAPI:i},fields:[]}}]},s=a&&t?a[t]:void 0;return l.a.createElement("div",{className:"c-ImageCardList"},l.a.createElement(v.a,{namespace:c,config:o,operation:r,format:m,map:n,Item:B,data:s,pagination:!Boolean(s)}))}var q=t("lIdm"),H=function(e){var a=e.api,t=e.fieldsMap,c=void 0===t?{}:t,i=e.children,m=Object(n["useState"])([]),o=Object(r["a"])(m,2),s=o[0],u=o[1],f=Object(n["useState"])(!1),p=Object(r["a"])(f,2),v=p[0],E=p[1],b=c.status,g=void 0===b?{}:b,O=g.map,j=void 0===O?{}:O;return Object(n["useEffect"])(e=>{E(!0),Object(q["b"])(Object(M["formatAPI"])(a,{})).then(e=>{u(e)}).finally(e=>E(!1))},[a]),l.a.createElement(d["a"],{spinning:v},l.a.createElement("div",{className:"list Details-statusList"},s.map((e,a)=>l.a.createElement("div",{className:"time",key:a},l.a.createElement("div",{className:"label"},j[e.status]||e.status),l.a.createElement("div",{className:"value"},l.a.createElement("pre",null,e.note))))),i)};function W(e){var a=e.namespace,t=e.API,n=e.col,c=void 0===n?2:n,i=(e.data,e.loading,e.label),m=e.span,o=void 0===m?12:m;console.log("preview data = ",e.data);var s=j(a,t),u=Object(r["a"])(s,2);u[0],u[1];return l.a.createElement(h["Render"],{n:"Grid",value:Array(c).fill(~~(24/c))},l.a.createElement("div",{key:"preview_file_index",span:o,className:"Details-item"},i?l.a.createElement("div",{className:"Details-labelTitle"},i," :"):null,l.a.createElement("div",null,"TODO \u5bf9\u63a5\u9884\u89c8\u7ec4\u4ef6")))}var X=m["Flex"].FlexItem,Y={plain:N,cardList:L,statusLog:H,previewFile:W},J=function(e){var a=e.namespace,t=e.setting,n=e.config,c=j(a,t.getAPI),i=Object(r["a"])(c,2),o=i[0],s=i[1],u=n.left,d=void 0===u?[]:u,f=n.right,p=void 0===f?[]:f,v={loading:s,fieldsMap:t.map,col:t.columns,data:o};return l.a.createElement(m["Flex"],{align:"flex-start"},d.length>0?l.a.createElement(X,{flex:1},d.map(e=>G(a,e,v)),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),p.length>0?l.a.createElement(X,{className:"Details-other"},p.map(e=>G(a,e,v))):l.a.createElement(l.a.Fragment,null),Array.isArray(n)&&n.length>0?l.a.createElement(X,{flex:1},n.map(e=>(e.fields=o.layoutJson?o.layoutJson:e.fields,G(a,e,v))),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null))};function G(e,a,t){var r=a.title,m=a.type,o=Object(i["a"])(a,["title","type"]),u=Y[m];return u?l.a.createElement(n["Fragment"],{key:"".concat(r,"-").concat(m)},l.a.createElement(s,{title:r},l.a.createElement(u,Object(c["a"])({},t,o,{namespace:e})))):"\u672a\u77e5\u7684 view type: ".concat(m)}var U=t("cSAx"),Z=t("ub7H");a["default"]=()=>(Object(U["a"])([{title:"\u9996\u9875",path:"/"},{title:"PDF\u9875\u8be6\u60c5"}]),l.a.createElement(J,{namespace:"".concat(Z["theConfig"].pageName.name||"default","_view"),setting:Z["theConfig"],config:Z["theConfig"].viewConfig}))},tONX:function(e,a,t){"use strict";var n=t("q1tI"),l=t.n(n),c=l.a.createContext({});a["a"]=c},ub7H:function(e,a,t){"use strict";t.r(a),t.d(a,"theConfig",(function(){return f})),t.d(a,"default",(function(){return p}));t("T2oS");var n=t("W9HT"),l=t("k16G"),c=t("q1tI"),i=t.n(c),r=t("Pm34"),m=t.n(r),o=t("cSAx"),s=t("1cYI"),u=t("sHPV"),d=t("N4YQ"),f=(t("wom7"),{});function p(){Object(o["a"])([{title:"\u9996\u9875",path:"/"},{title:"\u6d4b\u8bd5\u52a8\u6001\u9875\u9762\u52a0\u8f7d"}]);var e=Object(c["useState"])(""),a=Object(l["a"])(e,2),t=a[0],r=a[1];if(Object(s["useDidMount"])(e=>{var a=Object(u["get"])(),t="".concat(a,"/getPageJson");Object(d["a"])(t,{}).then(e=>{r(e)}).catch(e=>{})}),t){f=t;var p={layout:t.layout.table,title:t.pageName.table,config:{style:{"min-width":t.minWidth}},items:[{component:t.searchType||"Search",config:{type:t.searchButtonType||"default",fields:t.searchFields}},{component:"Table",config:{API:{listAPI:t.listAPI,deleteAPI:t.deleteAPI},actions:t.tableActions,fields:t.tableFields,operation:t.tableOperation}}]};return i.a.createElement(m.a,{namespace:"".concat(t.pageName.name||"default","_page"),config:p})}return i.a.createElement(n["a"],{spinning:!0,tip:"\u52a0\u8f7d\u4e2d"})}}}]);